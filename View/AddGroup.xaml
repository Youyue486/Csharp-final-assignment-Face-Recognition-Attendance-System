<Window x:Class="Csharp_final_assignment_Face_Recognition_Attendance_System.View.AddGroup"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:vm="clr-namespace:Csharp_final_assignment_Face_Recognition_Attendance_System.ViewModel"
        xmlns:core="clr-namespace:Csharp_final_assignment_Face_Recognition_Attendance_System.Core"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:tools="clr-namespace:Csharp_final_assignment_Face_Recognition_Attendance_System.Tools"
        xmlns:local="clr-namespace:Csharp_final_assignment_Face_Recognition_Attendance_System.View"
        d:DataContext="{d:DesignInstance Type=vm:AddGroupViewModel}"
        mc:Ignorable="d"
        Title="添加组" Width="220" Height="400" ResizeMode="NoResize">
    <Window.Resources>
        <tools:FlagBitMaskConverter x:Key="FlagBitMaskConverter"/>
    </Window.Resources>
    <Grid Margin="10">
        <StackPanel>
            <TextBlock Text="组名：" Margin="0,5"/>
            <TextBox Text="{Binding GroupName}" Margin="0,0,0,10"/>

            <TextBlock Text="工作日：" Margin="0,5"/>
            <WrapPanel Orientation="Horizontal">
                <CheckBox Content="周一" IsChecked="{Binding SelectedWorkDays, Mode=TwoWay, Converter={StaticResource FlagBitMaskConverter}, ConverterParameter={x:Static core:WorkDay.周一}}" Margin="0,0,0,5"/>
                <CheckBox Content="周二" IsChecked="{Binding SelectedWorkDays, Mode=TwoWay, Converter={StaticResource FlagBitMaskConverter}, ConverterParameter={x:Static core:WorkDay.周二}}"  Margin="0,0,0,5"/>
                <CheckBox Content="周三" IsChecked="{Binding SelectedWorkDays, Mode=TwoWay, Converter={StaticResource FlagBitMaskConverter}, ConverterParameter={x:Static core:WorkDay.周三}}" Margin="0,0,0,5"/>
                <CheckBox Content="周四" IsChecked="{Binding SelectedWorkDays, Mode=TwoWay, Converter={StaticResource FlagBitMaskConverter}, ConverterParameter={x:Static core:WorkDay.周四}}" Margin="0,0,0,5"/>
                <CheckBox Content="周五" IsChecked="{Binding SelectedWorkDays, Mode=TwoWay, Converter={StaticResource FlagBitMaskConverter}, ConverterParameter={x:Static core:WorkDay.周五}}" Margin="0,0,0,5"/>
                <CheckBox Content="周六" IsChecked="{Binding SelectedWorkDays, Mode=TwoWay, Converter={StaticResource FlagBitMaskConverter}, ConverterParameter={x:Static core:WorkDay.周六}}" Margin="0,0,0,5"/>
                <CheckBox Content="周日" IsChecked="{Binding SelectedWorkDays, Mode=TwoWay, Converter={StaticResource FlagBitMaskConverter}, ConverterParameter={x:Static core:WorkDay.周日}}" Margin="0,0,0,5"/>
            </WrapPanel>

            <!-- 上班时间 -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,10">
                <TextBlock Text="上班时间：" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox ItemsSource="{Binding TimeOptions}"
                          SelectedItem="{Binding SelectedWorkStartTime, Mode=TwoWay}"
                          Width="120" Height="30">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <!-- 绑定 TimeSpan 并格式化为 hh:mm -->
                            <TextBlock Text="{Binding StringFormat='hh\\:mm'}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </StackPanel>

            <!-- 下班时间 -->
            <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,10">
                <TextBlock Text="下班时间：" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox ItemsSource="{Binding TimeOptions}"
                          SelectedItem="{Binding SelectedWorkEndTime, Mode=TwoWay}"
                          Width="120" Height="30">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <!-- 绑定 TimeSpan 并格式化为 hh:mm -->
                            <TextBlock Text="{Binding StringFormat='hh\\:mm'}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </StackPanel>

            <TextBlock Text="简介：" Margin="0,5"/>
            <TextBox  Margin="0,0,0,10"/>
            
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10">
                <Button Content="确认" Width="60" Margin="0,0,10,0" Command="{Binding ConfirmCommand}"/>
                <Button Content="取消" Width="60" Command="{Binding CancelCommand}"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>
